<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissor Gmae</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://images.squarespace-cdn.com/content/v1/618037d25050485b61e7f62d/271f0feb-c872-4eb6-b918-3e9c8e38443c/Rock+Paper+Scissors+Logo.png">

    <style>
        .textclass {
            -webkit-text-stroke-width: .5px;  
            -webkit-text-stroke-color: black; 
        }
    </style>
</head>
<body class="flex items-center justify-center py-[50px] bg-[url(https://wallpapers.com/images/hd/4k-moving-horizon-desktop-1jdq8ow0m2r2h8t2.jpg)] bg-cover ">
    <section class="relevant bg-black/60 w-[50%] p-10 rounded-3xl flex flex-col items-center gap-12 shadow-2xl justify-center">
        <h1 id="typing" class="[text-stroke:2px_white] text-[20px] text-white font-bold text-center" style="font-family: 'Press Start 2P', cursive;"></h1>

        <div class="flex flex-col items-center gap-5">
            <h2 class="bg-white text-black font-bold border-4 border-yellow-500 rounded-xl px-8 py-3 text-[14px]" style="font-family: 'Press Start 2P', cursive;">SCORE</h2>
            <h2 class="text-[14px] text-white" style="font-family: 'Press Start 2P', cursive;">
                Wins:<span id="updatewins">0</span>
                Losses:<span id="updatelosses">0</span>
                Ties:<span id="updateties">0</span>
            </h2>
            <div class="flex gap-8 text-white text-[18px] font-bold " style="font-family: 'Press Start 2P', cursive;">
                <div class="flex flex-row w-[100%] justify-center items-center">
                    <h1 class="flex flex-row w-[40%] justify-end">Username<span class="pl-[10px]" id="userscore">0</span></h1>

                    <h1 class="flex w-[10%] text-center items-center justify-center">:</h1>

                    <h1 class="flex flex-row w-[40%] justify-start"><span class="pr-[10px]" id="computerscore">0</span> Computer</h1>
                </div>
            </div>
        </div>

        <h2 id="decision" class="text-yellow-400 text-[16px] font-bold text-center" style="font-family: 'Press Start 2P', cursive;">
            Choose now!
        </h2>

        <div class="flex gap-6">
            <button onclick="play(1)" class="px-8 py-4 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700 active:translate-y-1 transition-transform" style="font-family: 'Press Start 2P', cursive;">Rock</button>
            <button onclick="play(2)" class="px-8 py-4 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 active:translate-y-1 transition-transform" style="font-family: 'Press Start 2P', cursive;">Paper</button>
            <button onclick="play(3)" class="px-8 py-4 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 active:translate-y-1 transition-transform" style="font-family: 'Press Start 2P', cursive;">Scissors</button>
        </div>
        <div>
            <button onclick="reset()" class="px-8 py-4 bg-violet-600 text-white font-bold rounded-lg hover:bg-blue-700 active:translate-y-1 transition-transform" style="font-family: 'Press Start 2P', cursive;">Reset button</button>
        </div>

    </section>

    <script>
        let userchoice; 
        let computerchoice; 


        let score = JSON.parse(localStorage.getItem('localscore')) || {
                wins: 0,
                losses: 0,
                ties: 0
        };
        
        let computerscore = score.losses;
        let userscore = score.wins;
        
        document.getElementById("userscore").textContent = userscore;
        document.getElementById("computerscore").textContent = computerscore;
        document.getElementById("updatewins").textContent = score.wins;
        document.getElementById("updatelosses").textContent = score.losses;
        document.getElementById("updateties").textContent = score.ties;
        
        /* 
        So try ko explain 

        1. So we have a constant variable na score - dito natin pinapasok yung mga wins and losses

        2. We will be using JSON, so yung JSON is just an another method where we convert data to string in JSON of my object
        code --- const (variable name) = JSON.stringify(score);

        3. We will saved the convered string into local storage using localStorage.setItem - then variable name for the local variable of the localstorage and the converted object to string
        code -- localStorage.setItem('local variable for localstorage', the variable name where we set the converted data to string)

        4. Then we will retrieve it 
        code -- const userdata = localStorage.getItem('localscore')

        5. Then convert it again to Javascript object

        */

        function choiceconversionnumber(choice){
            if (choice === 1){
                return  "Rock";
            }
            else if (choice === 2){
                return "Paper"
            }
            else {
                return "Scissors"
            }
        }

        function reset(){

            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
            userscore = 0;
            computerscore = 0; 


            document.getElementById("updatewins").textContent = score.wins;
            document.getElementById("updatelosses").textContent = score.losses;
            document.getElementById("updateties").textContent = score.ties;
            document.getElementById("userscore").textContent = userscore;
            document.getElementById("computerscore").textContent = computerscore;

            localStorage.setItem('localscore', JSON.stringify(score));
        }
        
        function play(userchoice){
            computerchoice = Math.floor(Math.random() * 3) + 1;

            if(userchoice === computerchoice){
                score.ties++;
                document.getElementById("updateties").textContent = score.ties;
                document.getElementById("decision").textContent = (`This is a draw,  Userchoice: ${choiceconversionnumber(userchoice)} & Computer Choice: ${choiceconversionnumber(computerchoice)}`);
            }

            else if(
                (userchoice === 1 && computerchoice === 2) || (userchoice === 2 && computerchoice === 3) || (userchoice === 3 && computerchoice === 1)
            ){
                score.losses ++;
                computerscore = score.losses;
                document.getElementById("computerscore").textContent = computerscore;
                document.getElementById("updatelosses").textContent = score.losses;
                document.getElementById("decision").textContent = (`The winner is the computer,  Userchoice: ${choiceconversionnumber(userchoice)} & Computer Choice: ${choiceconversionnumber(computerchoice)}`);
            }
            else {
                score.wins ++;
                userscore = score.wins;
                document.getElementById("userscore").textContent = userscore;
                document.getElementById("updatewins").textContent = score.wins;
                document.getElementById("decision").textContent = (`The winner is the User,  Userchoice: ${choiceconversionnumber(userchoice)} & Computer Choice: ${choiceconversionnumber(computerchoice)}`);
            }

            localStorage.setItem('localscore', JSON.stringify(score));
        }


      

    </script>

    <script>
        var typed = new Typed('#typing', {
        strings: ["This is a Rock Paper Scissor Game", "Choose Wisely!"],
        typeSpeed: 100,       
        backSpeed: 50,        
        backDelay: 1500,      
        loop: true,     
        showCursor: false       
        });
    </script>
</body>
</html>